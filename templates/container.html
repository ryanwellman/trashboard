{% extends "base.html" %}

{% block javascript_nocompress %}


<script type="text/javascript">
    window.PRODUCTS = {{products_json|safe}};
    window.PRICES = {{pricelist_json|safe}};
    window.agreement_id = {{agreement_id|safe}}

    /*window.PACKAGES = {{packages|safe}};
    window.PARTS = {{parts|safe}};
    window.PREMIUM = {{premiums|safe}};
    window.COMBOS = {{combos|safe}};
    window.SERVICES = {{services|safe}};
    window.CLOSERS = {{closers|safe}};
    window.INCENTIVES = {{incentives|safe}};
    window.MONITORS = {{monitors|safe}};
    window.SHIPPERS = {{shippers|safe}};
    */
</script>

<script type="text/javascript" src="{% static 'js/trashboard/master_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard.js' %}"></script>


<script type="text/javascript" src="{% static 'js/trashboard/address_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/agreement_endpoint.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/alacarte_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/applicant_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/base_section_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/closing_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/combo_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/constants.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/creditdecision_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/initial_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/master_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/monitoring_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/navbar_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/package_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/review_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/shipping_vm.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/uas.js' %}"></script>
<script type="text/javascript" src="{% static 'js/trashboard/utils.js' %}"></script>

{% endblock %}


{% block content %}
<div class="left_sidebar">
    <!-- this is intentionally left blank for future expansion -->
</div>
<div class="well" id="right_sidebar" data-target="right_sidebar">
    <ul class="nav nav-list">
        <!-- ko foreach: {data:_.values($data.vms), as: 'vm'} -->
            <li data-bind="
               attr: {
                   id: vm.name+'_id'
               },
               css: {
                   'complete': vm.is_completed(),
                   'incomplete': !vm.is_completed()
               },
               template: {
                    name: vm.nav_template_name(),
                    data:vm,
               } "></li>
        <!-- /ko -->

        <!--
        <li id="nav_initial_info"><a data-bind="css: { 'complete': initial_complete(), 'incomplete': !initial_complete() }" href="#initial_info">Initial Info</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_pkgsel"><a data-bind="css: { 'complete': !!package.selected_package(), 'incomplete': !package.selected_package() }" href="#pkgsel">Package</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_monitor"><a data-bind="css: { 'complete': monitoring(), 'incomplete': !monitoring() }" href="#monitor">Monitoring</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_premium"><a data-bind="css: { 'complete': premium.done(), 'incomplete': !premium.done() }" href="#premium">Premium</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_combos"><a data-bind="css: { 'complete': combo.done(), 'incomplete': !combo.done() }" href="#combos">Combos</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_a_la_carte"><a data-bind="css: { 'complete': alacarte.complete(), 'incomplete': !alacarte.complete() }" href="#a_la_carte">A La Carte</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_services"><a class="green_nav complete" href="#services">Services</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_promos"><a class="green_nav complete" href="#promos">Promos</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_cinfo"><a data-bind="css: { 'complete': cinfo_complete(), 'incomplete': !cinfo_complete() }" href="#cinfo">Customer Info</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_shipping"><a data-bind="css: { 'complete': shipping(), 'incomplete': !shipping() }" href="#shipping">Shipping</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_closing"><a data-bind="css: { 'complete': closing.done(), 'incomplete': !closing.done() }" href="#closing">Closing</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_review"><a class="green_nav complete" href="#review">Review</a></li>
        <li class="divider"></li>
        <li class="hyde" id="nav_publish"><a class="green_nav complete" href="#publish">Publish</a></li>
        <li class="divider"></li>
        <li><span id="global_save_btn" class="btn btn-success">Save Agreement</span></li>
    -->
    </ul>
</div>
<div class="container">
    <div data-bind="template: {name: 'navbar', data: $data.navbar, as: 'vm'}"></div>
    <div class="content">
        <!-- ko foreach: {data:_.values($data.vms), as: 'vm'} -->
            <section data-bind="
               attr: {
                   id: vm.name+'_id'
               },
               css: {
                   'complete': vm.is_completed(),
                   'incomplete': !vm.is_completed()
               },
               'template': {
                    name: vm.template_name(),
                    data:vm,
               } "></section>
        <!-- /ko -->

        <!--
        <section data-bind="

        "></section>
            <div data-bind="template: { name: 'initial_info', data: $data }">Initial Info Form</div>
        </section>
        <section id="pkgsel" class="hyde">
            <div data-bind="template: { name: 'packages', data: $data }">Package Select Form</div>
        </section>
        <section id="monitor" class="hyde">
            <div data-bind="template: { name: 'monitor_', data: $data }">Monitoring Form</div>
        </section>

        <section id="premium" class="hyde">
            <div data-bind="template: { name: 'premiums', data: $data }">Premium Form</div>
        </section>

        <section id="combos" class="hyde">
            <div data-bind="template: { name: 'combos_', data: $data }">Combo Select Form</div>
        </section>
        <section id="a_la_carte" class="hyde">
            <div data-bind="template: { name: 'alacarte_', data: $data }">A La Carte Form</div>
            </section>
        <section id="services" class="hyde">
            <div data-bind="template: { name: 'services_', data: $data }">Services Form</div>
        </section>
        <section id="promos" class="hyde">
            <div data-bind="template: { name: 'promos_', data: $data }">Promo Form</p>
        </section>
        <section id="cinfo" class="hyde">
            <div data-bind="template: { name: 'customer_info', data: $data }">Customer Info Form</div>
        </section>
        <section id="shipping" class="hyde">
            <div data-bind="template: { name: 'shipping_', data: $data }">Shipping Form</div>
        </section>
        <section id="closing" class="hyde">
            <div data-bind="template: { name: 'closing_', data: $data }">Closing Form</p>
        </section>
        <section id="review" class="hyde">
            <div data-bind="template: { name: 'review_', data: $data }">Review Form</div>
        </section>
        <section id="publish" class="hyde">
            <div data-bind="template: { name: 'publish_', data: $data }">Publish Form</div>
        </section>


        <section id="scroller" class="hyde">
             <!-- this scroll buffer makes sure publish is at the top of the page when the scroll is all the way at the bottom -/->
            <p>&nbsp;</p>
        </section>
    -->
    </div>
</div>
{% endblock %}
