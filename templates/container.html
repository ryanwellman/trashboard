<!DOCTYPE html>
<html>
	<head>
		<title>Test Form</title>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
		<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
		<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/knockout/3.0.0/knockout-min.js"></script>
		<style type="text/css">
			body {
				padding-top: 60px;
				height: 100%;
			}
			section {
				padding-top: 60px;
				margin-top: -60px;
			}
			.content > section > p {
				background-color: #f5f5f5;
				height: 1200px;
			}
			#infobar {
				display: table;
				border-spacing: 5px;
			}
			#infobar i {
				position: absolute;
				top: 2px;
				right: 2px;
			}
			#infobar_content {
				display: table-row;
			}
			#infobar_content > div {
				display: table-cell;
			}
		</style>
		<script type="text/javascript">
			// jquery wrapper to anonymous function
			$(function() {

				// SCROLL SPY

				// scrollspy to activate elements in the navbar when they are visible
				$(document).ready(function(e) {
					$('body').scrollspy({target: '#navbar', offset: 60});
					$('#pkgsel').
				});

				// JQUERY DOM MANIPS

				// toggle the info bar
				$('#infobar_resize').click(function(e) {
					$('#infobar_content').toggle();
					$('#infobar_resize').toggleClass("icon-resize-small icon-resize-full");
				});
				// toggle the info bar resize icon on hover
				$('#infobar_resize').hover(function() {
					$(this).toggleClass("icon-white");
				}, function() {
					$(this).toggleClass("icon-white");
				});
			});
		</script>
{% include 'templates/customer_info.html' %}
{% include 'templates/customize.html' %}
{% include 'templates/package_monitoring.html' %}
{% include 'templates/premium_add_ons.html' %}
{% include 'templates/publish.html' %}
{% include 'templates/rate_drop.html' %}
{% include 'templates/shipping.html' %}
	</head>
	<body>
		<div class="affix" style="top:40px;right:0px">
			<div id="infobar" class="well">
				<i id="infobar_resize" class="icon-resize-small"></i>
				<div id="infobar_content">
					<div id="infobar_left">
						<p>
							{{ customer.name }}<br>{{ customer.address }}<br>{{ customer.city }}, {{ customer.state }}<br>{{ customer.zip }}
						</p>
					</div>
					<div id="infobar_middle">
						<p>
							<span class="label label-default">$Invoice</span><br>
							<span class="label label-important">Chargeback</span><br>
							<span class="label label-info">Combos</span><br>
							<span class="label label-warning">Promotions</span><br>
							<span class="label label-success">Rate Drops</span><br>
						</p>
					</div>
					<div id="infobar_right">
						<p>
							<span class="label label-default">Agreement ID</span><br>
							<span class="label label-important">Package</span><br>
							<span class="label label-info">Monitoring</span><br>
							<span class="label label-warning">Shipping</span><br>
							<span class="label label-success">$RMR</span><br>
						</p>
					</div>
				</div>
			</div>
		</div>
		<div class="container">
			<div class="navbar navbar-fixed-top" id="navbar">
				<div class="navbar-inner">
					<a class="brand" href="/">&nbsp;&nbsp;&nbsp;Test Form</a>
					<ul class="nav">
						<li><a href="#cinfo">Customer Info</a></li>
						<li><a href="#pkgsel">Package/Monitoring Select</a></li>
						<li><a href="#rtdrop">Rate Drop</a></li>
						<li><a href="#premium">Premium Add-Ons</a></li>
						<li><a href="#custom">Customize</a></li>
						<li><a href="#shipping">Shipping</a></li>
						<li><a href="#publish">Publish</a></li>
					</ul>
				</div>
			</div>
			<div class="content">
				<section id="cinfo">
					<div data-bind="template: { name: 'customer_info', data: dat }">Customer Info Form</div>
				</section>
				<section id="pkgsel"><p>Package Select Form</p></section>
				<section id="rtdrop">
					<div data-bind="template: { name: 'rate_drop', data: dat }">Rate Drop Form</div>
				</section>
				<section id="premium"><p>Premium Form</p></section>
				<section id="custom"><p>Customize Form</p></section>
				<section id="shipping">
					<div data-bind="template: { name: 'shipping_', data: dat }">Rate Drop Form</div>
				</section>
				<section id="publish">
					<div data-bind="template: { name: 'publish_', data: dat }">Publish Form</div>
				</section>
				<section id="scroller"><p>Scroll Buffer</p></section>
			</div>
		</div>
		<script type="text/javascript">
			// KNOCKOUT TEMPLATES

			// initialize a view model
			function TrashboardVM(blob) {
				// make blob a thing if it isn't
				blob = blob || {};

				// declare things that should be visible to templates
				this.dat = {	cname: "joe",
								countries: ["USA"].concat(["Canada"].sort()), // sort everyone else
								states: ["AK", "CA", "HI", "TX"].sort() // sort states
							};
			}

			// apply bindings for knockout
			// ko.applyBindings(viewmodel, $('something')[0])
			ko.applyBindings(new TrashboardVM());
		</script>
	</body>
</html>
